% N x N identity matrix example
%
% See also http://mathematics.nsetzer.com/latex/latex_for_loop.html
% for a pure TeX solution

\documentclass{article}
\usepackage{amsmath}

\begin{document}
<% N = 10 %>
This is a $<%= N %> \times <%= N %>$ identity matrix:
$$
\begin{pmatrix}
<%=
(1..N).map {|x|
	(1..N).map {|y| x == y ? 1 : 0}.join('&')
}.join("\\\\\n")
%>
\end{pmatrix}
$$
\end{document}
